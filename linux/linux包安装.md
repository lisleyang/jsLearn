#### 包的分类

* 源代码包。（.tar.gz文件）
* 二进制包（RPM包，系统慢，系统默认包）
* 脚本安装包

#### 源码包的优点是：

* 开源，如果有足够的能力，可以修改源代码
* 可以自由选择所需的功能
* 软件是在自己的系统上编译安装，所以更加适合自己的系统，更加稳定也效率更高（windows越来越慢 C盘越来越大）
* 卸载方便（直接删安装目录就可以）

#### 源码包的缺点是：

* 安装过程步骤较多,尤其安装大的软件合集时，容易出现错误
* 编译过程时间较长，安装比二进制安装时间长
* 编译一旦报错，新手很难解决

即 源码包不适合初学者

#### 二进制包优点

* 包管理简单，只需几个命令就可以实现包的安装，升级，查询和卸载
* 安装速度要快得多


#### 二进制包的缺点

* 经过编译，不在可以看到源代码
* 功能选择不如源代码包灵活
* 依赖性
* 运行效率不如源码包


#### 脚本安装包

就是把复杂的安装过程写成了脚本，初学者可以通过执行脚本实现一键安装。但实际安装的还是源码包和二进制包


**已经安装的rpm包，在/var/lib/rpm下面的<span style="color:red">数据库里能查到；但实际安装位置是包作者默认的安装位置</span>**

操作没有安装的软件包时（安装，升级），要使用包全名，并且要注意路径；操作已经安装的软件包时（卸载，升级），使用包名

### rpm包安装

一定要进入Packages目录，或使用绝对路径

* rpm -ivh 包全名
* 选项
* -i（install）安装
* -v（verbose）显示详细信息
* -h（hash）显示安装进度
* --nodeps不检测依赖性（一般不会使用，因为没有依赖无法工作）


rpm命令安装非常的繁琐，需要逐个去手动处理依赖。因此我们常用yum来替代rpm进行安装。但yum安装也有缺点，就是不能进行rpm包的查询与校验。

**yum安装的其实就是rpm包**

### rpm包升级

* rpm -Uvh 包全名  (U大写)

### rpm包卸载

* rpm -e 包名
* -e(erase)卸载
* --nodeps不检查依赖性，卸载也有依赖性。实际工作中不使用这个命令。


###  rpm包查询

* rpm -q 包名 查询包是否安装
* rpm -qa 查询所有已经安装的rpm包
* 使用正则 rpm -qa | grep python。这样可以查出所有相关的包。
* rpm -qi 包名。查询软件包的所有信息。
* rpm -ql 包名。查询包中文件安装位置。
* rpm -qf 文件名。根据文件查询它所属的包。（前提是这个包必须是rpm文件安装出来的）
* rpm -qR 包名（R大写）。查询软件包的依赖性

### rpm包默认安装位置（即约定，不是必须）

path | 说明
---- | ----
/etc/ | 配置文件安装目录
/usr/bin/ | 可执行的命令安装目录
/usr/lib/ | 程序所使用的函数库的保存位置
/usr/share/doc/ | 基本的软件使用手册保存位置
/usr/share/man/ | 帮助文件保存位置

### rpm包校验

* rpm -V 已安装的包名

### 验证内容中的8个信息具体内容如下

返回内容示例 ： S.5....T .C

* S 文件大小是否改变
* M 文件的类型或文件的权限是否被改变
* 5 文件MD5检验和是否改变（可以看成文件内容是否改变）
* D 设备的主从代码是否改变
* L 文件路径是否改变
* U 文件的属主（所有者）是否改变
* G 文件的属组是否改变
* T 文件的修改时间是否改变（查看也会有T）

文件类型

* c 配置文件（configration file）
* d 普通文档（documentation）
* g “鬼”文件（ghost file）,很少见，就是这个文件不该被这个RPM包包含
* L 授权文件（licence file）
* r 描述文件（readme）
* 

### yum常用命令

* yum list 展示所有可用包 太多了 慎用
* yum search 包名 
* yum -y install 包名 安装，自动回答YES
* yum -y update 包名  升级 （生产环境中慎用）
* yum -y remove 包名 卸载 （尽量不卸载）


### rpm包与源码包安装位置不同

rpm包是安装在默认位置，而源码包的安装位置需要手动指定，但一般是 **/usr/local/软件名/**(/user/local相当于windows下的program files)；源码包保存位置一般在
**/usr/local/src/**

源码包如果不指定安装位置，会和rpm包一样装的到处都是；而源码包没有卸载命令，导致很难删除


### 源码包安装

1. 下载 wget 地址
2. 解压缩   tar -zxvf 包名
3. 进入解压缩目录 cd 目录名
4. ./configure --prefix=/usr/local/node
5. 编译 make(如果失败 make clean)
6. 安装 make install


./configure的作用：

1. 定义需要的功能选项
2. 检测系统环境是否符合安装要求
3. 把定义好的功能选项和检测系统环境的信息都写入Makefile文件，用于后续的编辑


